import{b as r,j as e}from"./index-CQ7TJZIJ.js";import{b as m}from"./app-Bnlp6vnu.js";import{B as x}from"./button-IJP-gDH3.js";import{s as y}from"./spinner-C2cRJf-z.js";/* empty css            */const v=({onBack:p,onPay:w,sessionDetails:N})=>{const[s,h]=r.useState({fileUploads:[],recipients:[],senders:[]}),[f,i]=r.useState(!0),[c,n]=r.useState(null),[d,o]=r.useState(!1),u=()=>{i(!0),m.get("/overview").then(t=>{h(t.data),i(!1)}).catch(t=>{n(t.message),i(!1)})};r.useEffect(()=>{u()},[]);const g=()=>{const t=s.recipients.length>0?s.recipients[s.recipients.length-1]:null;if(!t){n("No recipient data available for payment.");return}const j={description:`Order for ${t.recipient_name}`,order_id:s.fileUploads[0].user_id};o(!0),m.post("/create-payment",j).then(l=>{window.location.href=l.data._links.checkout.href}).catch(l=>{n("Payment initiation failed."),console.error("Error creating payment:",l),o(!1)})};if(f)return e.jsx("img",{src:y,alt:"Loading..."});if(c)return e.jsxs("p",{children:["There was an error loading the data: ",c]});const a=s.recipients.length>0?s.recipients[s.recipients.length-1]:null;return e.jsxs("div",{children:[e.jsxs("div",{className:"max-w-2xl mx-auto bg-white shadow-lg rounded-lg p-8 h-full min-h-[200px]",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:["Bestellingsoverzicht"," "]}),e.jsxs("div",{className:"space-y-4",children:[s.fileUploads.length>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Bestelnummer:"}),e.jsx("span",{className:"text-gray-900",children:s.fileUploads[0].user_id})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Leveringsadres:"}),e.jsx("span",{className:"text-gray-900",children:a.recipient_address})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Levertijd:"}),e.jsx("span",{className:"text-gray-900",children:a.delivery_option==="Regulier"?"3-5 werkdagen":a.delivery_option==="Spoed"?"1-2 werkdagen":"2-3 werkdagen"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Totale Kosten:"}),e.jsxs("span",{className:"text-gray-900",children:["â‚¬",parseFloat(a.user_price).toFixed(2)]})]})]})]})]}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx(x,{variant:"back",onClick:p,disabled:d,children:"Terug"}),e.jsx(x,{variant:"next",type:"submit",onClick:g,disabled:d,children:"Betaal"})]})]})},D=v;export{D as default};
