import{b as a,j as e,a as h}from"./index.esm-FKu5Xl1q.js";import{B as p}from"./button-BeqgVg-s.js";import{s as w}from"./spinner-C2cRJf-z.js";import{S as b}from"./switch-BwqQY7vP.js";import"./index-ySlEDRV5.js";import"./index-DSbpcquf.js";const S=({onBack:f,onPay:C,sessionDetails:_})=>{const[s,g]=a.useState({fileUploads:[],recipients:[],senders:[]}),[j,l]=a.useState(!0),[c,n]=a.useState(null),[d,o]=a.useState(!1),[x,u]=a.useState(!1),[m,v]=a.useState(!1),k=()=>{l(!0),h.get("/overview").then(r=>{g(r.data),l(!1)}).catch(r=>{n(r.message),l(!1)})};a.useEffect(()=>{k()},[]);const N=()=>{const r=s.recipients.length>0?s.recipients[s.recipients.length-1]:null;if(!r){n("No recipient data available for payment.");return}const y={description:`Order for ${r.recipient_name}`,order_id:s.fileUploads[0].user_id};o(!0),h.post("/create-payment",y).then(i=>{window.location.href=i.data._links.checkout.href}).catch(i=>{n("Payment initiation failed."),console.error("Error creating payment:",i),o(!1)})};if(j)return e.jsx("img",{src:w,alt:"Loading..."});if(c)return e.jsxs("p",{children:["There was an error loading the data: ",c]});const t=s.recipients.length>0?s.recipients[s.recipients.length-1]:null;return e.jsxs("div",{className:"mx-6",children:[e.jsxs("div",{className:"max-w-4xl mx-auto bg-white border-gray-200 border rounded-lg p-8 shadow-lg h-full min-h-[200px]",children:[e.jsxs("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:["Bestellingsoverzicht"," "]}),e.jsxs("div",{className:"space-y-6 text-lg",children:[s.fileUploads.length>0&&e.jsxs("div",{className:"flex flex-col border-b border-gray-200 pb-4",children:[e.jsx("span",{className:"text-black font-bold",children:"Bestelnummer:"}),e.jsx("span",{className:"text-gray-700",children:s.fileUploads[0].user_id})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col border-b border-gray-200 pb-4",children:[e.jsx("span",{className:"text-black font-bold",children:"Ontvanger Naam:"}),e.jsx("span",{className:"text-gray-700",children:t.recipient_name})]}),e.jsxs("div",{className:"flex flex-col border-b border-gray-200 pb-4",children:[e.jsx("span",{className:"text-black font-bold",children:"Leveringsadres:"}),e.jsx("span",{className:"text-gray-700",children:t.recipient_address})]}),e.jsxs("div",{className:"flex flex-col border-b border-gray-200 pb-4",children:[e.jsx("span",{className:"text-black font-bold",children:"Levertijd:"}),e.jsx("span",{className:"text-gray-700",children:t.delivery_option==="Regulier"?"3-5 werkdagen":t.delivery_option==="Spoed"?"1-2 werkdagen":"2-3 werkdagen"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-black font-bold",children:"Totale Kosten:"}),e.jsxs("span",{className:"text-gray-900 font-semibold text-xl",children:["â‚¬",parseFloat(t.user_price).toFixed(2)]})]})]})]})]}),e.jsxs("div",{className:"mt-10",children:[e.jsx("p",{className:"mb-5 text-2xl font-semibold",children:"Wettelijke bepalingen en voorwaarden"}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(b,{checked:x,onCheckedChange:u}),e.jsx("p",{className:"ml-4 text-lg",children:"Ja, ik aanvaard de Algemene Voorwaarden en Privacybeleid"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{checked:m,onCheckedChange:v}),e.jsx("p",{className:"ml-4 text-lg",children:"Ja, ik ben me ervan bewust dat ik er verantwoordelijk voor ben dat de brief voldoet aan alle wettelijke eisen voor het beoogde gebruik."})]})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(p,{variant:"back",onClick:f,disabled:d,children:"Terug"}),e.jsx(p,{variant:"next",type:"submit",onClick:N,disabled:!x||!m||d,children:"Betaal"})]})]})},R=S;export{R as default};
